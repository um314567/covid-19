[{"C:\\Web\\react\\corona\\src\\index.js":"1","C:\\Web\\react\\corona\\src\\App.js":"2","C:\\Web\\react\\corona\\src\\reportWebVitals.js":"3","C:\\Web\\react\\corona\\src\\components\\Header.js":"4","C:\\Web\\react\\corona\\src\\components\\Contents.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":264,"mtime":1609232463910,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"7"},{"size":282,"mtime":1609238483948,"results":"10","hashOfConfig":"7"},{"size":4082,"mtime":1609293006544,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"s4dkf4",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},"C:\\Web\\react\\corona\\src\\index.js",[],["24","25"],"C:\\Web\\react\\corona\\src\\App.js",[],"C:\\Web\\react\\corona\\src\\reportWebVitals.js",[],"C:\\Web\\react\\corona\\src\\components\\Header.js",[],"C:\\Web\\react\\corona\\src\\components\\Contents.js",["26"],"import { useState, useEffect } from \"react\";\r\nimport { Bar, Doughnut, Line } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nconst Contents = () => {\r\n  const [confirmedData, setConfirmedData] = useState({});\r\n  const [quarantinedData, setQurantinedData] = useState({});\r\n  const [comparedData, setComparedData] = useState({});\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      const res = await axios.get(\r\n        \"https://api.covid19api.com/total/dayone/country/kr\"\r\n      );\r\n      makeData(res.data);\r\n    };\r\n\r\n    const makeData = (items) => {\r\n      const arr = items.reduce((acc, cur) => {\r\n        const currentDate = new Date(cur.Date);\r\n        const year = currentDate.getFullYear();\r\n        const month = currentDate.getMonth();\r\n        const date = currentDate.getDate();\r\n\r\n        const confirmed = cur.confirmed;\r\n        const active = cur.Active;\r\n        const death = cur.Deaths;\r\n        const recovered = cur.Recovered;\r\n\r\n        const findItem = acc.find((a) => a.year === year && a.month === month);\r\n        if (!findItem) {\r\n          acc.push({ year, month, date, confirmed, active, death, recovered });\r\n        }\r\n\r\n        if (findItem && findItem.date < date) {\r\n          findItem.active = active;\r\n          findItem.death = death;\r\n          findItem.date = date;\r\n          findItem.year = year;\r\n          findItem.month = month;\r\n          findItem.recovered = recovered;\r\n          findItem.confirmed = confirmed;\r\n        }\r\n        return acc;\r\n      }, []);\r\n      console.log(arr);\r\n      const labels = arr.map((a) => a.month + 1 + \"월\");\r\n      setConfirmedData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"국내 누적 확진자\",\r\n            backgroundColor: \"salmon\",\r\n            fill: true,\r\n            data: arr.map((a) => a.recovered),\r\n          },\r\n        ],\r\n      });\r\n      setQurantinedData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"월별 격리자 현황\",\r\n            borderColor: \"salmon\",\r\n            fill: false,\r\n            data: arr.map((a) => a.active),\r\n          },\r\n        ],\r\n      });\r\n      const last = arr[arr.length - 1];\r\n      setComparedData({\r\n        labels: [\"확진자\", \"격리 해제\", \"사망\"],\r\n        datasets: [\r\n          {\r\n            label: \"누적 확진, 해제, 사망 비율\",\r\n            backgroundColor: [\"#ff3d67\", \"#059bff\", \"#ffc233\"],\r\n            borderColor: [\"#ff3d67\", \"#059bff\", \"#ffc233\"],\r\n            fill: false,\r\n            data: [last.recovered, last.recovered, last.death],\r\n          },\r\n        ],\r\n      });\r\n    };\r\n\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  return (\r\n    <section>\r\n      <h2>국내 코로나 현황</h2>\r\n      <div className=\"contents\">\r\n        <div>\r\n          <Bar\r\n            data={confirmedData}\r\n            options={\r\n              ({\r\n                title: {\r\n                  display: true,\r\n                  text: \"누적 확진자 추이\",\r\n                  fontSize: 16,\r\n                },\r\n              },\r\n              { legend: { display: true, position: \"bottom\" } })\r\n            }\r\n          />\r\n        </div>\r\n        <div>\r\n          <Line\r\n            data={quarantinedData}\r\n            options={\r\n              ({\r\n                title: {\r\n                  display: true,\r\n                  text: \"월별 격리자 현황\",\r\n                  fontSize: 16,\r\n                },\r\n              },\r\n              { legend: { display: true, position: \"bottom\" } })\r\n            }\r\n          />\r\n        </div>\r\n        <div>\r\n          <Doughnut\r\n            data={comparedData}\r\n            options={\r\n              ({\r\n                title: {\r\n                  display: true,\r\n                  text: \"누적 확진, 해제 사망(${new Date().getMonth()+1}월)\",\r\n                  fontSize: 16,\r\n                },\r\n              },\r\n              { legend: { display: true, position: \"bottom\" } })\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Contents;\r\n",{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":127,"column":25,"nodeType":"33","messageId":"34","endLine":127,"endColumn":68},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],"no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","no-global-assign","no-unsafe-negation"]